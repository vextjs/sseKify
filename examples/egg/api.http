@timestamp = {{$timestamp}}

# Egg 示例默认提供以下路由（见 examples/egg）：
# GET    /           （示例首页）
# GET    /sse        （建立 SSE 长连接）
# POST   /notify/:userId
# POST   /broadcast
# POST   /room/:room
# POST   /publish-room/:room
# POST   /close/:userId

### 打开 SSE 连接（Egg，端口 3050，若你将 Egg 启到 3050）
GET http://localhost:3050/sse?userId=alice
Accept: text/event-stream

### 向 alice 发送定向通知
POST http://localhost:3050/notify/alice
Content-Type: application/json

{
  "msg": "hi alice (egg)",
  "time": "{{timestamp}}"
}

### 全员广播
POST http://localhost:3050/broadcast
Content-Type: application/json

{
  "msg": "broadcast from egg",
  "time": "{{timestamp}}"
}

### 向房间 global 发送（同实例）
POST http://localhost:3050/room/global
Content-Type: application/json

{
  "msg": "room message (egg)",
  "time": "{{timestamp}}"
}

### 发布到房间 global（如配置 Redis，可跨实例）
POST http://localhost:3050/publish-room/global
Content-Type: application/json

{
  "msg": "published room message (egg)",
  "time": "{{timestamp}}"
}

### 关闭 alice 的所有连接
POST http://localhost:3050/close/alice
Content-Type: application/json

{}
